apply plugin: 'groovy'

sourceCompatibility = 1.7
targetCompatibility = 1.7

repositories {
    mavenCentral()
    jcenter()
}

dependencies {
    compile localGroovy()

    testCompile ('org.spockframework:spock-core:1.0-groovy-2.3') {
        exclude group: 'org.codehaus.groovy'
    }
}

task printGraph(type: JavaExec) {
    group = 'Demo'
    description = 'A simple gradle task that will compile the groovy code and pass along filePath, and startNode system props to the CLI main method'
    dependsOn 'classes'
    classpath = sourceSets.main.runtimeClasspath
    main = 'com.justinfield.dependencygraphdemo.CLI'

    systemProperties = [
            'filePath': System.getProperty('filePath', 'src/test/resources/graph.txt'),
            'startNode': System.getProperty('startNode', 'A')
    ]
}